# Configura√ß√£o de Acoplamento Harm√¥nico entre Camadas Œ®QRH
# ===========================================================
#
# Define os par√¢metros para sincroniza√ß√£o harm√¥nica entre:
# - Self-Attention
# - Kuramoto Spectral Neurons
# - Conscious Working Memory
# - Feed-Forward Network

harmonic_coupling:
  # ===== Par√¢metros B√°sicos =====
  enabled: true                      # Habilitar acoplamento harm√¥nico

  # ===== For√ßa de Acoplamento =====
  coupling_strength: 0.5             # K ‚àà [0, 1] - for√ßa do termo de Kuramoto
  coupling_decay: 0.0                # Taxa de decaimento do acoplamento

  # ===== Frequ√™ncia Alvo =====
  target_frequency: 1.0              # œâ_target - frequ√™ncia para alinhamento
  frequency_adaptation_rate: 0.01    # Taxa de adapta√ß√£o das frequ√™ncias

  # ===== Frequ√™ncias Naturais das Camadas =====
  natural_frequencies:
    attention: 0.8                   # Frequ√™ncia natural da camada de aten√ß√£o
    kuramoto: 1.0                    # Frequ√™ncia natural do Kuramoto
    memory: 1.1                      # Frequ√™ncia natural da mem√≥ria
    feedforward: 1.2                 # Frequ√™ncia natural do feed-forward
    frequency_range: [0.5, 1.5]      # Range permitido para frequ√™ncias

  # ===== Pesos das Camadas =====
  layer_weights:
    adaptive: true                   # Pesos adaptativos (aprend√≠veis)
    initial_weights:                 # Pesos iniciais (se n√£o adaptativo)
      attention: 0.25
      kuramoto: 0.25
      memory: 0.25
      feedforward: 0.25
    weight_regularization: 0.0       # Regulariza√ß√£o L2 nos pesos

  # ===== Sincroniza√ß√£o de Fase =====
  phase_synchronization:
    enabled: true                    # Aplicar termo de Kuramoto
    threshold: 0.7                   # r > threshold = sincronizado
    use_global_phase: true           # Usar fase m√©dia global
    phase_noise: 0.0                 # Ru√≠do gaussiano nas fases

  # ===== Alinhamento de Frequ√™ncias =====
  frequency_alignment:
    enabled: true                    # Alinhar frequ√™ncias ao target
    alignment_strength: 1.0          # For√ßa do alinhamento [0, 1]
    adaptive_target: false           # Target adaptativo baseado em m√©tricas

  # ===== Conserva√ß√£o de Energia =====
  energy_conservation:
    enabled: true                    # Normalizar para conservar energia
    method: 'mean'                   # 'mean', 'sum', 'max'
    tolerance: 0.1                   # Toler√¢ncia [0.9, 1.1]
    apply_per_layer: false           # Aplicar antes de combinar

  # ===== Gating Adaptativo =====
  adaptive_gating:
    enabled: false                   # Habilitar gates adaptativos
    sync_dependent: true             # Gates dependem de sincroniza√ß√£o
    gate_threshold: 0.5              # Threshold para abrir gates

  # ===== Hist√≥rico e Tracking =====
  tracking:
    history_size: 100                # Tamanho do buffer de hist√≥rico
    log_frequency: 10                # Log a cada N itera√ß√µes
    save_layer_states: false         # Salvar estados detalhados

  # ===== Visualiza√ß√£o =====
  visualization:
    enabled: false                   # Gerar visualiza√ß√µes autom√°ticas
    save_plots: false                # Salvar gr√°ficos
    plot_frequency: 100              # Plotar a cada N itera√ß√µes
    output_dir: 'visualizations/harmonic/'

# ===== Presets R√°pidos =====
presets:
  # Acoplamento suave (padr√£o)
  standard:
    coupling_strength: 0.5
    target_frequency: 1.0
    phase_synchronization:
      threshold: 0.7
    energy_conservation:
      enabled: true

  # Acoplamento forte (alta sincroniza√ß√£o)
  strong:
    coupling_strength: 0.9
    target_frequency: 1.0
    phase_synchronization:
      threshold: 0.8
    energy_conservation:
      enabled: true

  # Acoplamento fraco (mais independ√™ncia)
  weak:
    coupling_strength: 0.2
    target_frequency: 1.0
    phase_synchronization:
      threshold: 0.5
    energy_conservation:
      enabled: true

  # Acoplamento adaptativo (experimental)
  adaptive:
    coupling_strength: 0.5
    target_frequency: 1.0
    layer_weights:
      adaptive: true
    frequency_alignment:
      adaptive_target: true
    adaptive_gating:
      enabled: true

# ======================================================================
# üî¨ INSTRU√á√ïES DE VALIDA√á√ÉO DO N√öCLEO
# ======================================================================
# Para garantir que qualquer altera√ß√£o nesta configura√ß√£o n√£o quebre as
# propriedades matem√°ticas fundamentais do sistema Œ®QRH (como a
# conserva√ß√£o de energia), execute o teste de valida√ß√£o do n√∫cleo.
#
# Este teste verifica:
#   1. Conserva√ß√£o de Energia
#   2. Teorema de Parseval (Corretude da FFT)
#   3. Efici√™ncia de Mem√≥ria e Par√¢metros
#   4. Propriedades do Quaternion Rotacional
#
# COMO EXECUTAR:
# No diret√≥rio raiz do projeto, execute o seguinte comando:
#
# make validate-core
#
# Se o teste falhar, revise suas configura√ß√µes ou o c√≥digo modificado.
# A normaliza√ß√£o de energia agora √© obrigat√≥ria para garantir a
# estabilidade do sistema.
# ======================================================================
