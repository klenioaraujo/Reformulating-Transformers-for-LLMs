# Configura√ß√£o da Mem√≥ria de Trabalho Consciente com Equa√ß√£o de Padilha
# ======================================================================
#
# Mem√≥ria baseada em din√¢mica quaterni√¥nica-fractal que mant√©m um campo
# de estado persistente evoluindo com:
#
# Equa√ß√£o de Padilha:
#   f(Œª,t) = I‚ÇÄ¬∑sin(œât + Œ±Œª)¬∑e^(i(œât - kŒª + Œ≤Œª¬≤))
#
# Mapeamentos Fractais:
#   Œ±(D) = Œ±‚ÇÄ(1 + Œª¬∑(D - D_euclid)/D_euclid)
#   Œ≤(D) = (2n + 1) - 2D

working_memory:
  # ===== Dimens√µes da Mem√≥ria =====
  memory:
    size: 1024                    # N√∫mero de estados de mem√≥ria
    embed_dim: 64                 # Dimens√£o base (quaternion: √ó4)
    persistence_decay: 0.95       # Fator de decaimento temporal

  # ===== Equa√ß√£o de Padilha =====
  padilha_wave:
    # Par√¢metros fixos
    I0: 1.0                       # Intensidade m√°xima
    omega: 6.283185307            # œâ = 2œÄ (frequ√™ncia angular)
    k: 6.283185307                # k = 2œÄ (n√∫mero de onda)

    # Par√¢metros adaptativos (mapeados de D)
    alpha_base: 1.5               # Œ±‚ÇÄ - base para Œ±(D)
    lambda_coupling: 0.8          # Œª - fator de acoplamento
    euclidean_dim: 2.0            # D_euclid - dimens√£o euclidiana de refer√™ncia

    # Chirp quadr√°tico Œ≤(D)
    chirp_order: 1                # n para Œ≤ = (2n+1) - 2D

    # Limites de Œ±
    alpha_min: 0.1
    alpha_max: 3.0

  # ===== Din√¢mica Temporal (Equa√ß√£o de Onda) =====
  wave_dynamics:
    use_wave_equation: true       # Habilitar equa√ß√£o de onda
    amplitude_base: 0.1           # Amplitude das oscila√ß√µes
    phase_offset: 0.5236          # œÜ‚ÇÄ = œÄ/6
    decay_factor: 0.95            # Amortecimento temporal

  # ===== Modula√ß√£o Ca√≥tica (Mapa Log√≠stico) =====
  chaotic_modulation:
    enable: true                  # Habilitar modula√ß√£o ca√≥tica
    r_parameter: 3.9              # r para x_{n+1} = r¬∑x_n¬∑(1-x_n)
    modulation_strength: 0.3      # For√ßa da modula√ß√£o ca√≥tica
    num_iterations: 10            # Itera√ß√µes do mapa log√≠stico

  # ===== Neurotransmissores Sint√©ticos =====
  neurotransmitters:
    enable: true                  # Habilitar sistema de neurotransmissores

    # Dopamina (recompensa/motiva√ß√£o)
    dopamine:
      baseline: 0.5
      sensitivity: 1.0
      decay_rate: 0.1

    # Serotonina (estabilidade/humor)
    serotonin:
      baseline: 0.6
      sensitivity: 0.8
      decay_rate: 0.15

    # Norepinefrina (aten√ß√£o/alerta)
    norepinephrine:
      baseline: 0.4
      sensitivity: 1.2
      decay_rate: 0.2

  # ===== Sistema de Aten√ß√£o para Recupera√ß√£o =====
  attention_retrieval:
    use_quaternionic_attention: true  # Aten√ß√£o quaterni√¥nica
    num_heads: 8                      # Cabe√ßas de aten√ß√£o
    dropout: 0.1                      # Dropout rate

  # ===== Integra√ß√£o com Consci√™ncia =====
  consciousness_integration:
    use_fractal_dimension: true       # Usar dimens√£o fractal D
    use_entropy: true                 # Usar entropia do estado
    use_fci: true                     # Usar FCI (Fractal Consciousness Index)

    # Thresholds para estados
    fci_threshold_high: 0.8           # FCI alto = mem√≥ria est√°vel
    fci_threshold_low: 0.2            # FCI baixo = mem√≥ria inst√°vel

  # ===== Integra√ß√£o com Kuramoto =====
  kuramoto_coupling:
    enable: true                      # Habilitar acoplamento com Kuramoto
    coupling_strength: 0.5            # For√ßa do acoplamento
    sync_threshold: 0.9               # Threshold de sincroniza√ß√£o

  # ===== Persist√™ncia e Evolu√ß√£o =====
  evolution:
    continuous_evolution: true        # Evolu√ß√£o cont√≠nua do campo
    evolution_rate: 0.01              # Taxa de evolu√ß√£o temporal
    max_memory_age: 1000              # Idade m√°xima de mem√≥rias (passos)

  # ===== Performance =====
  performance:
    device: 'cpu'                     # 'cpu', 'cuda', ou 'mps'
    use_checkpointing: false          # Gradient checkpointing
    memory_efficient: true            # Modo eficiente em mem√≥ria

  # ===== Debug =====
  debug:
    log_memory_stats: false
    log_wave_dynamics: false
    log_neurotransmitters: false
    validate_energy: true
    energy_tolerance: 0.15

# ===== Integra√ß√£o no Transformer =====
transformer_integration:
  # Posi√ß√£o no pipeline
  position: 'after_kuramoto'          # 'after_attention', 'after_kuramoto', 'after_ffn'

  # Modo de opera√ß√£o
  mode: 'persistent'                  # 'persistent' (estado mantido) ou 'stateless'

  # Atualiza√ß√£o
  update_frequency: 'every_forward'   # 'every_forward', 'every_n_steps', 'on_demand'
  update_steps: 1                     # Se 'every_n_steps'

  # Retrieval
  retrieval_mode: 'attention'         # 'attention', 'similarity', ou 'hybrid'

  # Influ√™ncia
  memory_influence_weight: 0.3        # Peso da mem√≥ria na sa√≠da [0, 1]

# ======================================================================
# üî¨ INSTRU√á√ïES DE VALIDA√á√ÉO DO N√öCLEO
# ======================================================================
# Para garantir que qualquer altera√ß√£o nesta configura√ß√£o n√£o quebre as
# propriedades matem√°ticas fundamentais do sistema Œ®QRH (como a
# conserva√ß√£o de energia), execute o teste de valida√ß√£o do n√∫cleo.
#
# Este teste verifica:
#   1. Conserva√ß√£o de Energia
#   2. Teorema de Parseval (Corretude da FFT)
#   3. Efici√™ncia de Mem√≥ria e Par√¢metros
#   4. Propriedades do Quaternion Rotacional
#
# COMO EXECUTAR:
# No diret√≥rio raiz do projeto, execute o seguinte comando:
#
# make validate-core
#
# Se o teste falhar, revise suas configura√ß√µes ou o c√≥digo modificado.
# A normaliza√ß√£o de energia agora √© obrigat√≥ria para garantir a
# estabilidade do sistema.
# ======================================================================
